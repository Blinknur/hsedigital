# ================================
# STAGING ENVIRONMENT
# ================================
# For staging deployment configuration

NODE_ENV=staging
PORT=3001

# ================================
# DATABASE
# ================================
DATABASE_URL=postgresql://hse_admin:CHANGE_ME@staging-db.internal:5432/hse_platform
POSTGRES_USER=hse_admin
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_DB=hse_platform
DATABASE_CONNECTION_LIMIT=20
DATABASE_CONNECTION_TIMEOUT=5000
DATABASE_POOL_TIMEOUT=10000
DATABASE_POOL_MAX=20

# ================================
# SECURITY (REQUIRED - SET STRONG VALUES)
# ================================
JWT_SECRET=CHANGE_ME_STRONG_SECRET
REFRESH_SECRET=CHANGE_ME_STRONG_REFRESH_SECRET

# ================================
# REDIS
# ================================
REDIS_URL=redis://staging-redis.internal:6379
REDIS_HOST=staging-redis.internal
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME
QUEUE_REDIS_HOST=staging-redis.internal
QUEUE_REDIS_PORT=6379
QUEUE_REDIS_PASSWORD=CHANGE_ME

# ================================
# APPLICATION
# ================================
CLIENT_URL=https://staging.hse.digital
CORS_ORIGIN=https://staging.hse.digital

# ================================
# INTEGRATIONS
# ================================
API_KEY=your-staging-google-ai-key
STRIPE_SECRET_KEY=sk_test_staging_key
STRIPE_WEBHOOK_SECRET=whsec_staging_secret
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=CHANGE_ME

# ================================
# MONITORING
# ================================
LOG_LEVEL=info
SLOW_QUERY_THRESHOLD_MS=1000

# Sentry
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_TRACES_SAMPLE_RATE=0.25
SENTRY_PROFILES_SAMPLE_RATE=0.1
SENTRY_RELEASE=
SENTRY_DIST=staging

# OpenTelemetry
OTEL_ENABLED=true
OTEL_SERVICE_NAME=hse-digital-backend-staging
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger-staging.internal:4318/v1/traces

# Trace Sampling
TRACE_SAMPLE_RATE_ENTERPRISE=1.0
TRACE_SAMPLE_RATE_PROFESSIONAL=0.5
TRACE_SAMPLE_RATE_STARTER=0.25
TRACE_SAMPLE_RATE_FREE=0.05
TRACE_SAMPLE_RATE_DEFAULT=0.25

# ================================
# ALERTING
# ================================
ALERT_ERROR_RATE_THRESHOLD=0.05
ALERT_RESPONSE_TIME_MS=5000
ALERT_DB_QUERY_TIME_MS=2000
ALERT_EMAIL_RECIPIENTS=staging-alerts@example.com
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/STAGING/WEBHOOK

# ================================
# AWS S3
# ================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=CHANGE_ME
AWS_SECRET_ACCESS_KEY=CHANGE_ME
S3_BUCKET_NAME=hse-digital-staging-reports
S3_REPORTS_PREFIX=reports/

# ================================
# REPORTS
# ================================
REPORTS_STORAGE_TYPE=s3
REPORT_RETENTION_DAYS=90

# ================================
# BACKUP
# ================================
BACKUP_DIR=/var/backups/hse-digital
S3_ENABLED=true
S3_BUCKET=hse-digital-staging-backups
S3_REGION=us-east-1
S3_PREFIX=backups/
NOTIFICATION_EMAIL=ops@example.com

# ================================
# AUDIT
# ================================
AUDIT_LOG_RETENTION_DAYS=180
