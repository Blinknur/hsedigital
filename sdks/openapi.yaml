openapi: 3.0.3
info:
  title: HSE Digital API
  description: Enterprise HSE Management Platform API
  version: 1.0.0

servers:
  - url: http://localhost:3001
    description: Local development

security:
  - bearerAuth: []

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    Error:
      type: object
      properties:
        error:
          type: string

    Station:
      type: object
      properties:
        id:
          type: string
        name:
          type: string
        brand:
          type: string
        region:
          type: string

    Audit:
      type: object
      properties:
        id:
          type: string
        stationId:
          type: string
        status:
          type: string

    Incident:
      type: object
      properties:
        id:
          type: string
        stationId:
          type: string
        severity:
          type: string

paths:
  /api/auth/login:
    post:
      summary: Login user
      tags: [Authentication]
      security: []
      responses:
        '200':
          description: Login successful

  /api/stations:
    get:
      summary: List stations
      tags: [Stations]
      responses:
        '200':
          description: Stations list

  /api/audits:
    get:
      summary: List audits
      tags: [Audits]
      responses:
        '200':
          description: Audits list

  /api/incidents:
    get:
      summary: List incidents
      tags: [Incidents]
      responses:
        '200':
          description: Incidents list
