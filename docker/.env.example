# ==============================================================================
# Docker Compose Environment Variables
# ==============================================================================
# Copy this file to .env and customize for your environment
# Usage: docker-compose will automatically load .env file
# ==============================================================================

# -----------------------------------------------------------------------------
# Build Configuration
# -----------------------------------------------------------------------------
# Node.js version (18, 20, 21)
NODE_VERSION=18

# Base image variant: slim (default), bullseye, alpine
# - slim: Debian Slim - balanced size and compatibility (recommended)
# - bullseye: Debian Bullseye - maximum compatibility, larger size
# - alpine: Alpine Linux - smallest size, potential compatibility issues
BUILD_VARIANT=slim

# Enable debug tools in production image (true/false)
ENABLE_DEBUG_TOOLS=false

# Enable source maps in build (true/false)
ENABLE_SOURCEMAPS=false

# -----------------------------------------------------------------------------
# Application Configuration
# -----------------------------------------------------------------------------
# Application port (external)
APP_PORT=3001

# JWT secrets (REQUIRED)
JWT_SECRET=CHANGE_ME
REFRESH_SECRET=CHANGE_ME

# Client URL
CLIENT_URL=http://localhost:3001

# CORS origin
CORS_ORIGIN=*

# API Key (optional)
API_KEY=

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# PostgreSQL credentials
POSTGRES_USER=hse_admin
POSTGRES_PASSWORD=dev_password_123
POSTGRES_DB=hse_platform
POSTGRES_PORT=5432

# Database connection pool
DATABASE_CONNECTION_LIMIT=10
DATABASE_CONNECTION_TIMEOUT=5000
DATABASE_POOL_TIMEOUT=10000
SLOW_QUERY_THRESHOLD_MS=1000

# -----------------------------------------------------------------------------
# Redis Configuration
# -----------------------------------------------------------------------------
REDIS_PORT=6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# Queue Configuration
# -----------------------------------------------------------------------------
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_BACKOFF_DELAY=5000

# -----------------------------------------------------------------------------
# Observability Configuration
# -----------------------------------------------------------------------------
# OpenTelemetry
OTEL_ENABLED=true

# Trace sampling rates by tier
TRACE_SAMPLE_RATE_ENTERPRISE=1.0
TRACE_SAMPLE_RATE_PROFESSIONAL=0.5
TRACE_SAMPLE_RATE_STARTER=0.1
TRACE_SAMPLE_RATE_FREE=0.01
TRACE_SAMPLE_RATE_DEFAULT=0.1

# -----------------------------------------------------------------------------
# Admin Tools Configuration
# -----------------------------------------------------------------------------
# pgAdmin
PGADMIN_EMAIL=admin@hse.digital
PGADMIN_PASSWORD=admin123
PGADMIN_PORT=5050

# -----------------------------------------------------------------------------
# External Services (Optional)
# -----------------------------------------------------------------------------
# Stripe
STRIPE_SECRET_KEY=

# SMTP
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
