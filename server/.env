# Database
DATABASE_URL=postgresql://hse_admin:dev_password_123@localhost:5432/hse_platform

# JWT Secrets
JWT_SECRET=dev-secret-key-change-in-prod
REFRESH_SECRET=dev-refresh-secret-key

# Server
NODE_ENV=development
PORT=3001
CLIENT_URL=http://localhost:5173

# Redis
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# API Keys
API_KEY=your-google-ai-api-key
STRIPE_SECRET_KEY=sk_test_your_stripe_key

# Email (SMTP)
SMTP_HOST=smtp.ethereal.email
SMTP_PORT=587
SMTP_USER=your_smtp_user
SMTP_PASS=your_smtp_pass

# Stripe Configuration
STRIPE_SECRET_KEY=
STRIPE_WEBHOOK_SECRET=
STRIPE_PRICE_STARTER=
STRIPE_PRICE_PROFESSIONAL=
STRIPE_PRICE_ENTERPRISE=
CLIENT_URL=http://localhost:5173

# Google AI
API_KEY=

# Audit Log Retention
AUDIT_LOG_RETENTION_DAYS=365

# CORS
CORS_ORIGIN=*

# Monitoring & Observability
LOG_LEVEL=info
SLOW_QUERY_THRESHOLD_MS=1000

# Database Connection Pool Settings
DATABASE_CONNECTION_LIMIT=10
DATABASE_CONNECTION_TIMEOUT=5000
DATABASE_POOL_TIMEOUT=10000

# Sentry Error Tracking & Performance Monitoring
# Get your DSN from https://sentry.io/settings/projects/
SENTRY_DSN=

# Tier-based transaction sampling:
# - free: 1% traces, 0% profiles
# - starter: 5% traces, 1% profiles
# - professional: 25% traces, 10% profiles
# - enterprise: 100% traces, 50% profiles
# Health/metrics endpoints have reduced sampling
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1

# Release tracking for source maps (auto-detected from git)
# Format: hse-digital@<tag>-<commit-hash>
SENTRY_RELEASE=
SENTRY_DIST=

# OpenTelemetry Distributed Tracing
OTEL_ENABLED=true
OTEL_SERVICE_NAME=hse-digital-backend
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318/v1/traces
OTEL_EXPORTER_OTLP_HEADERS={}

# Trace Sampling Rates by Tenant Tier
TRACE_SAMPLE_RATE_ENTERPRISE=1.0
TRACE_SAMPLE_RATE_PROFESSIONAL=0.5
TRACE_SAMPLE_RATE_STARTER=0.1
TRACE_SAMPLE_RATE_FREE=0.01
TRACE_SAMPLE_RATE_DEFAULT=0.1

# Alerting
ALERT_ERROR_RATE_THRESHOLD=0.05
ALERT_RESPONSE_TIME_MS=5000
ALERT_DB_QUERY_TIME_MS=2000
ALERT_RATE_LIMIT_HITS=100

# Slack Webhook (for alerts)
SLACK_WEBHOOK_URL=

# PagerDuty Integration Key (for critical alerts)
PAGERDUTY_INTEGRATION_KEY=

# Alert Email Recipients (comma-separated)
ALERT_EMAIL_RECIPIENTS=admin@example.com,ops@example.com

# Database Pool Monitoring
DATABASE_POOL_MAX=10

# Email Recipients for Alerts (comma-separated)
ALERT_EMAIL_RECIPIENTS=

# AWS S3 Configuration (for report storage)
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_BUCKET_NAME=hse-digital-reports
S3_REPORTS_PREFIX=reports/

# Report Generation
REPORTS_STORAGE_TYPE=s3
REPORTS_LOCAL_PATH=./public/reports
REPORT_RETENTION_DAYS=90

# Bull Queue Configuration
QUEUE_REDIS_HOST=localhost
QUEUE_REDIS_PORT=6379
QUEUE_REDIS_PASSWORD=
QUEUE_CONCURRENCY=5
QUEUE_MAX_RETRIES=3
QUEUE_BACKOFF_DELAY=5000
